# Hemisphere 開発計画

## Phase 0: プロジェクト基盤構築 (〜2025/07/15)

### セットアップタスク ✅ 完了
- [x] モノレポ構造の初期化（Cargo Workspace設定）
- [x] 基本的なディレクトリ構造の作成
- [x] CI/CD環境の構築（GitHub Actions）
- [x] 開発環境のドキュメント化（CONTRIBUTING.md）
- [x] Rustプロジェクトの基本設定（rustfmt, clippy）
- [x] TDD環境の整備（cargo test, tarpaulin）
- [x] プラットフォーム抽象化レイヤーの設計
- [x] Zennブログ連携（サブモジュール）

### 技術検証タスク
- [x] Tauriの基本動作確認（伺か風デスクトップマスコット実装）
- [ ] ウィンドウ操作API調査（Linux/Windows）
- [ ] MCP通信方式の技術選定（IPC vs Socket）
- [ ] LLM API統合方法の調査

### 本日の進捗（2025/07/09）
- [x] hemisphere-agent UIを伺か風デスクトップマスコットに変更
- [x] 吹き出しスタイルの会話UI実装
- [x] React + Vite + TypeScriptでのUI構築
- [x] 透明ウィンドウ設定（Tauri用）

### 次のステップ
- [ ] Windows環境でのTauriデスクトップアプリ実行
- [ ] システムトレイ統合
- [ ] ドラッグ移動機能の実装

## Phase 1: hemisphere-wm 基礎実装 (2025/07/16〜2025/08/15)

### Week 1-2: コア機能
- [ ] Rustプロジェクトの初期化
- [ ] 基本的なウィンドウ検出機能
- [ ] ウィンドウ情報の取得API
- [ ] タイル配置アルゴリズムの基礎実装

### Week 3-4: プラットフォーム対応
- [ ] Linux (X11) サポート
- [ ] Linux (Wayland) 調査と基礎実装
- [ ] Windows サポート
- [ ] クロスプラットフォーム抽象化レイヤー

### Week 5-6: MCP サーバー実装
- [ ] JSON-RPC サーバーの実装
- [ ] 基本的なAPIエンドポイント
  - [ ] get_windows
  - [ ] propose_layout
  - [ ] move_window
  - [ ] resize_window
- [ ] エラーハンドリングとロギング

## Phase 2: hemisphere-agent 基礎実装 (2025/08/16〜2025/09/15)

### Week 1-2: Tauri基盤
- [ ] Tauriプロジェクトの初期化
- [ ] 基本的なUI構造（React/Vue選定）
- [ ] システムトレイ統合
- [ ] 設定画面の基礎

### Week 3-4: コンテキスト理解
- [ ] アクティブウィンドウの監視
- [ ] ユーザーアクティビティの追跡
- [ ] コンテキスト情報の構造化
- [ ] 履歴管理システム

### Week 5-6: MCP クライアント実装
- [ ] JSON-RPC クライアント
- [ ] hemisphere-wm との接続確立
- [ ] 非同期通信の実装
- [ ] 再接続ロジック

## Phase 3: LLM統合とインテリジェンス (2025/09/16〜2025/10/15)

### Week 1-2: LLM基礎統合
- [ ] OpenAI API / Claude API 統合
- [ ] プロンプトエンジニアリング基盤
- [ ] レスポンスキャッシング
- [ ] エラーハンドリング

### Week 3-4: コンテキスト理解AI
- [ ] ウィンドウコンテキストの分析
- [ ] ユーザー行動パターンの学習
- [ ] レイアウト提案アルゴリズム
- [ ] 提案の優先順位付け

### Week 5-6: インタラクションモデル
- [ ] 提案UIの実装
- [ ] ユーザーフィードバックループ
- [ ] 学習データの収集
- [ ] パフォーマンス最適化

## Phase 4: 統合とポリッシュ (2025/10/16〜2025/11/15)

### Week 1-2: 統合テスト
- [ ] End-to-Endテストスイート
- [ ] パフォーマンステスト
- [ ] ストレステスト
- [ ] セキュリティ監査

### Week 3-4: UX改善
- [ ] ユーザビリティテスト
- [ ] UI/UXの洗練
- [ ] アニメーションとトランジション
- [ ] アクセシビリティ対応

### Week 5-6: ドキュメントとリリース準備
- [ ] ユーザーマニュアル作成
- [ ] APIドキュメント完成
- [ ] インストーラー作成
- [ ] リリースノート準備

## Phase 5: ベータリリースとフィードバック (2025/11/16〜)

### リリースタスク
- [ ] プライベートベータテスト
- [ ] フィードバック収集システム
- [ ] バグ修正とパフォーマンス改善
- [ ] パブリックベータ準備

### 将来の拡張計画
- [ ] プラグインシステムの設計
- [ ] macOSサポートの調査
- [ ] モバイル連携の検討
- [ ] コミュニティ構築

## 優先度の高い技術的課題

1. **ウィンドウマネージャの権限問題**
   - 各OSでの必要な権限の調査
   - ユーザーへの権限要求フロー

2. **リアルタイム性能**
   - ウィンドウ操作の遅延を最小化
   - LLMレスポンスの非同期処理

3. **プライバシーとセキュリティ**
   - ローカルでのデータ処理
   - APIキーの安全な管理
   - ユーザーデータの暗号化

## マイルストーン

- **M1** (2025/08/15): hemisphere-wm 単体で動作確認
- **M2** (2025/09/15): hemisphere-agent 単体で動作確認
- **M3** (2025/10/15): 両コンポーネントの統合動作
- **M4** (2025/11/15): ベータ版リリース

## 注意事項

- 各フェーズは並行して進行可能な部分もある
- 技術的な課題により計画は柔軟に調整
- ユーザーフィードバックを重視した反復的開発